<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="css/settings.css">
</head>
<body>
<!--html-->
<div id="content" class="content">
    <!--<div style="background-color: #c9b82f">-->
        <span class="backG">请选择游戏难度：</span>
    <div>
        <ul id="select">
            <li>
                <div class="select-head">
                    <span class="select-head-cont"></span>
                    <span class="select-icon">▼</span>
                </div>
                <ul class="option"id="option">
                    <li class="option-item" value="30">超难</li>
                    <li class="option-item" value="50">难</li>
                    <li class="option-item" value="200">一般</li>
                    <li class="option-item" value="500">简单</li>
                </ul>
            </li>
        </ul>
    </div>
    <span id="backG" class="backG">请选择游戏背景：</span>
    <div>
        <ul id="select1">
            <li>
                <div class="select-head1">
                    <span class="select-head-cont1"></span>
                    <span class="select-icon1">▼</span>
                </div>
                <ul class="option1">
                    <li class="option-item1" value="0">渐变色</li>
                    <li class="option-item1" value="1">斜条纹</li>
                    <li class="option-item1" value="2">浅蓝底</li>
                    <li class="option-item1" value="3">星空黑</li>
                </ul>
            </li>
        </ul>
    </div>
    <span id="snakeColor" class="backG">请选择蛇身颜色：</span>
    <div>
        <ul id="select2">
            <li>
                <div class="select-head2">
                    <span class="select-head-cont2"></span>
                    <span class="select-icon2">▼</span>
                </div>
                <ul class="option2">
                    <li class="option-item2" value="0">橙色</li>
                    <li class="option-item2" value="1">绿色</li>
                    <li class="option-item2" value="2">蓝色</li>
                    <li class="option-item2" value="3">红色</li>
                </ul>
            </li>
        </ul>
    </div>
    <!--</div>-->

    <button id="button" class="button">
        确定
    </button>
</div>

<script type="text/javascript">
    //int
    const selectHead = document.getElementsByClassName('select-head')[0];
    const selectHeadCont = document.getElementsByClassName('select-head-cont');
    const Option = document.getElementsByClassName('option')[0];
    const optionItem = document.getElementsByClassName('option-item');
    const selectHead1 = document.getElementsByClassName('select-head1')[0];
    const selectHeadCont1 = document.getElementsByClassName('select-head-cont1');
    const Option1 = document.getElementsByClassName('option1')[0];
    const optionItem1 = document.getElementsByClassName('option-item1');
    const selectHead2 = document.getElementsByClassName('select-head2')[0];
    const selectHeadCont2 = document.getElementsByClassName('select-head-cont2');
    const Option2 = document.getElementsByClassName('option2')[0];
    const optionItem2 = document.getElementsByClassName('option-item2');

    /*默认是第一个选项*/
    selectHeadCont[0].innerHTML = "请选择游戏难度";
    selectHeadCont1[0].innerHTML = "请选择游戏背景";
    selectHeadCont2[0].innerHTML = "请选择蛇身颜色";

    /*点击后出现下拉框*/
    selectHead.addEventListener('click',function(){
        Option.style.display = 'block';
        console.log(document.getElementById("backG"))
        document.getElementById("backG").style.marginTop = (optionItem.length*25+10)+'px';
    },false);
    selectHead1.addEventListener('click',function(){
        Option1.style.display = 'block';
        document.getElementById("snakeColor").style.marginTop = (optionItem1.length*25+10)+'px';
    },false);
    selectHead2.addEventListener('click',function(){
        Option2.style.display = 'block';
        document.getElementById("button").style.marginTop = (optionItem2.length*25+10)+'px';
    },false);
    /*点击选项后出现在下拉框*/
    const len = optionItem.length;
    const len1 = optionItem1.length;
    for(let i=0;i<len;i++){
        optionItem[i].index = i;
        optionItem[i].addEventListener('click',function(){
            selectHeadCont[0].innerHTML = optionItem[this.index].innerHTML;
            console.log(optionItem[this.index].value,"速度")
            window.localStorage.setItem('speedValue',optionItem[this.index].value);
            console.log(window.localStorage.getItem('speedValue'));
            Option.style.display = 'none';
        },false);
    }
    for(let j=0;j<len1;j++){
        optionItem1[j].index = j;
        optionItem1[j].addEventListener('click',function(){
            selectHeadCont1[0].innerHTML = optionItem1[this.index].innerHTML;
            console.log(optionItem1[this.index].value,"背景路径")
            Option1.style.display = 'none';
            window.localStorage.setItem("backG",optionItem1[this.index].value)
            console.log(window.localStorage.getItem('backG'));
            // console.log(document.getElementById("map"),"...")
            // document.getElementById("map").style.backgroundImage = "url(../img/backG"+j+".png)"
            // console.log( $("#map").css.background)
        },false);
    }
    for(let m=0;m<len1;m++){
        optionItem2[m].index = m;
        optionItem2[m].addEventListener('click',function(){
            selectHeadCont2[0].innerHTML = optionItem2[this.index].innerHTML;
            console.log(optionItem2[this.index].value,"蛇身颜色")
            Option2.style.display = 'none';
            window.localStorage.setItem("snakeColor",optionItem2[this.index].value)
            console.log(window.localStorage.getItem('snakeColor'));
            // console.log(document.getElementById("map"),"...")
            // document.getElementById("map").style.backgroundImage = "url(../img/backG"+j+".png)"
            // console.log( $("#map").css.background)
        },false);
    }

    /*点击其他地方时，select会收起来*/
    document.body.addEventListener('click',function(){
        Option.style.display = 'none';
        document.getElementById("backG").style.margin = 10+'px';
    },true);
    document.body.addEventListener('click',function(){
        Option1.style.display = 'none';
        document.getElementById("snakeColor").style.margin = 10+'px';
    },true);
    document.body.addEventListener('click',function(){
        Option2.style.display = 'none';
        document.getElementById("button").style.margin = 10+'px';
    },true);
    document.getElementById("button").onclick = function () {
        window.location.href='game.html'
    }

</script>
</body>
</html>
